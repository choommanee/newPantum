{"version":3,"sources":["../../src/js/util/debounce.js"],"names":["debounce","func","wait","immediate","timeout","args","context","timestamp","result","later","last","Date","now","setTimeout","apply","arguments","callNow"],"mappings":"AAAA;AACA,eAAe,SAASA,QAAT,CAAkBC,IAAlB,EAAwBC,IAAxB,EAA8BC,SAA9B,EAAyC;AACtD,MAAIC,OAAJ,EAAaC,IAAb,EAAmBC,OAAnB,EAA4BC,SAA5B,EAAuCC,MAAvC;;AAEA,MAAIC,QAAQ,SAARA,KAAQ,GAAW;AACrB,QAAIC,OAAOC,KAAKC,GAAL,KAAaL,SAAxB;;AAEA,QAAIG,OAAOR,IAAP,IAAeQ,QAAQ,CAA3B,EAA8B;AAC5BN,gBAAUS,WAAWJ,KAAX,EAAkBP,OAAOQ,IAAzB,CAAV;AACD,KAFD,MAEO;AACLN,gBAAU,IAAV;;AAEA,UAAI,CAACD,SAAL,EAAgB;AACdK,iBAASP,KAAKa,KAAL,CAAWR,OAAX,EAAoBD,IAApB,CAAT;;AAEA,YAAI,CAACD,OAAL,EAAc;AACZE,oBAAUD,OAAO,IAAjB;AACD;AACF;AACF;AACF,GAhBD;;AAkBA,SAAO,YAAW;AAChBC,cAAU,IAAV;AACAD,WAAOU,SAAP;AACAR,gBAAYI,KAAKC,GAAL,EAAZ;AAEA,QAAII,UAAUb,aAAa,CAACC,OAA5B;;AAEA,QAAI,CAACA,OAAL,EAAc;AACZA,gBAAUS,WAAWJ,KAAX,EAAkBP,IAAlB,CAAV;AACD;;AAED,QAAIc,OAAJ,EAAa;AACXR,eAASP,KAAKa,KAAL,CAAWR,OAAX,EAAoBD,IAApB,CAAT;AACAC,gBAAUD,OAAO,IAAjB;AACD;;AAED,WAAOG,MAAP;AACD,GAjBD;AAkBD","sourcesContent":["// http://underscorejs.org/docs/underscore.html#section-83\nexport default function debounce(func, wait, immediate) {\n  let timeout, args, context, timestamp, result;\n\n  let later = function() {\n    let last = Date.now() - timestamp;\n\n    if (last < wait && last >= 0) {\n      timeout = setTimeout(later, wait - last);\n    } else {\n      timeout = null;\n\n      if (!immediate) {\n        result = func.apply(context, args);\n\n        if (!timeout) {\n          context = args = null;\n        }\n      }\n    }\n  };\n\n  return function() {\n    context = this;\n    args = arguments;\n    timestamp = Date.now();\n\n    let callNow = immediate && !timeout;\n\n    if (!timeout) {\n      timeout = setTimeout(later, wait);\n    }\n\n    if (callNow) {\n      result = func.apply(context, args);\n      context = args = null;\n    }\n\n    return result;\n  };\n}\n"],"file":"debounce.js"}