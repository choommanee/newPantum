{"version":3,"sources":["../src/js/ZoomPane.js"],"names":["divStyle","document","createElement","style","HAS_ANIMATION","ZoomPane","options","_completeShow","bind","_completeHide","_handleLoad","isShowing","container","zoomFactor","inline","namespace","showWhitespaceAtEdges","containInline","inlineOffsetX","inlineOffsetY","inlineContainer","body","settings","openClasses","_buildClasses","openingClasses","closingClasses","inlineClasses","loadingClasses","_buildElement","suffix","classes","ns","push","el","loaderEl","appendChild","imgEl","imageURL","setAttribute","triggerWidth","triggerHeight","width","height","percentageOffsetX","percentageOffsetY","triggerRect","getBoundingClientRect","imgElWidth","imgElHeight","elWidth","elHeight","centreOfContainerX","centreOfContainerY","targetImgXToBeCentre","targetImgYToBeCentre","left","top","differenceBetweenContainerWidthAndImgWidth","differenceBetweenContainerHeightAndImgHeight","isContainerLargerThanImgX","isContainerLargerThanImgY","minLeft","minTop","maxLeft","maxTop","parentElement","scrollX","window","pageXOffset","scrollY","pageYOffset","inlineLeft","inlineTop","transform","webkitTransform","removeEventListener","_removeListenersAndResetClasses","addEventListener","_setImageURL","_setImageSize","_isInline","_showInline","_showInContainer","removeChild","innerWidth"],"mappings":"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","sourcesContent":["import throwIfMissing from \"./util/throwIfMissing\";\nimport { addClasses, removeClasses } from \"./util/dom\";\n\n// All officially-supported browsers have this, but it's easy to\n// account for, just in case.\nvar divStyle = document.createElement(\"div\").style;\n\nconst HAS_ANIMATION =\n  typeof document === \"undefined\" ? false : \"animation\" in divStyle || \"webkitAnimation\" in divStyle;\n\nexport default class ZoomPane {\n  constructor(options = {}) {\n    this._completeShow = this._completeShow.bind(this);\n    this._completeHide = this._completeHide.bind(this);\n    this._handleLoad = this._handleLoad.bind(this);\n\n    this.isShowing = false;\n\n    let {\n      container = null,\n      zoomFactor = throwIfMissing(),\n      inline = throwIfMissing(),\n      namespace = null,\n      showWhitespaceAtEdges = throwIfMissing(),\n      containInline = throwIfMissing(),\n      inlineOffsetX = 0,\n      inlineOffsetY = 0,\n      inlineContainer = document.body\n    } = options;\n\n    this.settings = {\n      container,\n      zoomFactor,\n      inline,\n      namespace,\n      showWhitespaceAtEdges,\n      containInline,\n      inlineOffsetX,\n      inlineOffsetY,\n      inlineContainer\n    };\n\n    this.openClasses = this._buildClasses(\"open\");\n    this.openingClasses = this._buildClasses(\"opening\");\n    this.closingClasses = this._buildClasses(\"closing\");\n    this.inlineClasses = this._buildClasses(\"inline\");\n    this.loadingClasses = this._buildClasses(\"loading\");\n\n    this._buildElement();\n  }\n\n  _buildClasses(suffix) {\n    let classes = [`drift-${suffix}`];\n\n    let ns = this.settings.namespace;\n    if (ns) {\n      classes.push(`${ns}-${suffix}`);\n    }\n\n    return classes;\n  }\n\n  _buildElement() {\n    this.el = document.createElement(\"div\");\n    addClasses(this.el, this._buildClasses(\"zoom-pane\"));\n\n    let loaderEl = document.createElement(\"div\");\n    addClasses(loaderEl, this._buildClasses(\"zoom-pane-loader\"));\n    this.el.appendChild(loaderEl);\n\n    this.imgEl = document.createElement(\"img\");\n    this.el.appendChild(this.imgEl);\n  }\n\n  _setImageURL(imageURL) {\n    this.imgEl.setAttribute(\"src\", imageURL);\n  }\n\n  _setImageSize(triggerWidth, triggerHeight) {\n    this.imgEl.style.width = `${triggerWidth * this.settings.zoomFactor}px`;\n    this.imgEl.style.height = `${triggerHeight * this.settings.zoomFactor}px`;\n  }\n\n  // `percentageOffsetX` and `percentageOffsetY` must be percentages\n  // expressed as floats between `0' and `1`.\n  setPosition(percentageOffsetX, percentageOffsetY, triggerRect) {\n    const { width: imgElWidth, height: imgElHeight } = this.imgEl.getBoundingClientRect();\n    const { width: elWidth, height: elHeight } = this.el.getBoundingClientRect();\n\n    const centreOfContainerX = elWidth / 2;\n    const centreOfContainerY = elHeight / 2;\n\n    const targetImgXToBeCentre = imgElWidth * percentageOffsetX;\n    const targetImgYToBeCentre = imgElHeight * percentageOffsetY;\n\n    let left = centreOfContainerX - targetImgXToBeCentre;\n    let top = centreOfContainerY - targetImgYToBeCentre;\n\n    const differenceBetweenContainerWidthAndImgWidth = elWidth - imgElWidth;\n    const differenceBetweenContainerHeightAndImgHeight = elHeight - imgElHeight;\n    const isContainerLargerThanImgX = differenceBetweenContainerWidthAndImgWidth > 0;\n    const isContainerLargerThanImgY = differenceBetweenContainerHeightAndImgHeight > 0;\n\n    const minLeft = isContainerLargerThanImgX ? differenceBetweenContainerWidthAndImgWidth / 2 : 0;\n    const minTop = isContainerLargerThanImgY ? differenceBetweenContainerHeightAndImgHeight / 2 : 0;\n\n    const maxLeft = isContainerLargerThanImgX\n      ? differenceBetweenContainerWidthAndImgWidth / 2\n      : differenceBetweenContainerWidthAndImgWidth;\n    const maxTop = isContainerLargerThanImgY\n      ? differenceBetweenContainerHeightAndImgHeight / 2\n      : differenceBetweenContainerHeightAndImgHeight;\n\n    if (this.el.parentElement === this.settings.inlineContainer) {\n      // This may be needed in the future to deal with browser event\n      // inconsistencies, but it's difficult to tell for sure.\n      // let scrollX = isTouch ? 0 : window.scrollX;\n      // let scrollY = isTouch ? 0 : window.scrollY;\n      let scrollX = window.pageXOffset;\n      let scrollY = window.pageYOffset;\n\n      let inlineLeft =\n        triggerRect.left + percentageOffsetX * triggerRect.width - elWidth / 2 + this.settings.inlineOffsetX + scrollX;\n      let inlineTop =\n        triggerRect.top + percentageOffsetY * triggerRect.height - elHeight / 2 + this.settings.inlineOffsetY + scrollY;\n\n      if (this.settings.containInline) {\n        if (inlineLeft < triggerRect.left + scrollX) {\n          inlineLeft = triggerRect.left + scrollX;\n        } else if (inlineLeft + elWidth > triggerRect.left + triggerRect.width + scrollX) {\n          inlineLeft = triggerRect.left + triggerRect.width - elWidth + scrollX;\n        }\n\n        if (inlineTop < triggerRect.top + scrollY) {\n          inlineTop = triggerRect.top + scrollY;\n        } else if (inlineTop + elHeight > triggerRect.top + triggerRect.height + scrollY) {\n          inlineTop = triggerRect.top + triggerRect.height - elHeight + scrollY;\n        }\n      }\n\n      this.el.style.left = `${inlineLeft}px`;\n      this.el.style.top = `${inlineTop}px`;\n    }\n\n    if (!this.settings.showWhitespaceAtEdges) {\n      if (left > minLeft) {\n        left = minLeft;\n      } else if (left < maxLeft) {\n        left = maxLeft;\n      }\n\n      if (top > minTop) {\n        top = minTop;\n      } else if (top < maxTop) {\n        top = maxTop;\n      }\n    }\n\n    this.imgEl.style.transform = `translate(${left}px, ${top}px)`;\n    this.imgEl.style.webkitTransform = `translate(${left}px, ${top}px)`;\n  }\n\n  get _isInline() {\n    let inline = this.settings.inline;\n\n    return inline === true || (typeof inline === \"number\" && window.innerWidth <= inline);\n  }\n\n  _removeListenersAndResetClasses() {\n    this.el.removeEventListener(\"animationend\", this._completeShow, false);\n    this.el.removeEventListener(\"animationend\", this._completeHide, false);\n    this.el.removeEventListener(\"webkitAnimationEnd\", this._completeShow, false);\n    this.el.removeEventListener(\"webkitAnimationEnd\", this._completeHide, false);\n    removeClasses(this.el, this.openClasses);\n    removeClasses(this.el, this.closingClasses);\n  }\n\n  show(imageURL, triggerWidth, triggerHeight) {\n    this._removeListenersAndResetClasses();\n    this.isShowing = true;\n\n    addClasses(this.el, this.openClasses);\n    addClasses(this.el, this.loadingClasses);\n\n    this.imgEl.addEventListener(\"load\", this._handleLoad, false);\n    this._setImageURL(imageURL);\n    this._setImageSize(triggerWidth, triggerHeight);\n\n    if (this._isInline) {\n      this._showInline();\n    } else {\n      this._showInContainer();\n    }\n\n    if (HAS_ANIMATION) {\n      this.el.addEventListener(\"animationend\", this._completeShow, false);\n      this.el.addEventListener(\"webkitAnimationEnd\", this._completeShow, false);\n      addClasses(this.el, this.openingClasses);\n    }\n  }\n\n  _showInline() {\n    this.settings.inlineContainer.appendChild(this.el);\n    addClasses(this.el, this.inlineClasses);\n  }\n\n  _showInContainer() {\n    this.settings.container.appendChild(this.el);\n  }\n\n  hide() {\n    this._removeListenersAndResetClasses();\n    this.isShowing = false;\n\n    if (HAS_ANIMATION) {\n      this.el.addEventListener(\"animationend\", this._completeHide, false);\n      this.el.addEventListener(\"webkitAnimationEnd\", this._completeHide, false);\n      addClasses(this.el, this.closingClasses);\n    } else {\n      removeClasses(this.el, this.openClasses);\n      removeClasses(this.el, this.inlineClasses);\n    }\n  }\n\n  _completeShow() {\n    this.el.removeEventListener(\"animationend\", this._completeShow, false);\n    this.el.removeEventListener(\"webkitAnimationEnd\", this._completeShow, false);\n\n    removeClasses(this.el, this.openingClasses);\n  }\n\n  _completeHide() {\n    this.el.removeEventListener(\"animationend\", this._completeHide, false);\n    this.el.removeEventListener(\"webkitAnimationEnd\", this._completeHide, false);\n\n    removeClasses(this.el, this.openClasses);\n    removeClasses(this.el, this.closingClasses);\n    removeClasses(this.el, this.inlineClasses);\n\n    this.el.setAttribute(\"style\", \"\");\n\n    // The window could have been resized above or below `inline`\n    // limits since the ZoomPane was shown. Because of this, we\n    // can't rely on `this._isInline` here.\n    if (this.el.parentElement === this.settings.container) {\n      this.settings.container.removeChild(this.el);\n    } else if (this.el.parentElement === this.settings.inlineContainer) {\n      this.settings.inlineContainer.removeChild(this.el);\n    }\n  }\n\n  _handleLoad() {\n    this.imgEl.removeEventListener(\"load\", this._handleLoad, false);\n    removeClasses(this.el, this.loadingClasses);\n  }\n}\n"],"file":"ZoomPane.js"}